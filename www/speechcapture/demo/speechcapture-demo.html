<!DOCTYPE html>

<head>
    <title>Cordova Plugin AudioInput Demo</title>
    <meta name="format-detection" content="telephone=no">
    <meta name="msapplication-tap-highlight" content="no">
    <meta name="viewport"
          content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width">
    <link rel="stylesheet" href="http://www.w3schools.com/lib/w3.css">
    <link rel="stylesheet" href="style.css">
</head>

<body>
<div class="w3-center">
    <div class="w3-row">
        <div class="w3-container w3-quarter"></div>
        <div class="w3-half">
            <h4>SpeechCapture Demo</h4>
            <div id="infoMessage"
                 class="w3-container w3-section w3-pale-green w3-bottombar w3-border-green w3-border w3-small">
                Not ready
            </div>
            <div id="infoTimer" class="w3-container w3-section w3-border-green w3-border w3-small"></div>
            <div class="w3-card-4">
                <form class="w3-container w3-margin w3-padding-medium">
                    <label for="speechThreshold">Speech Threshold (db)</label>
                    <input id="speechThreshold" class="w3-input" type="number" value="20" size="5"/>
                    <label for="speechAllowedDelay">Allowed Delay (ms)</label>
                    <input id="speechAllowedDelay" class="w3-input" type="number" value="500" size="5"/>
                    <label for="minSpeechLength">Min Speech Length (ms)</label>
                    <input id="minSpeechLength" class="w3-input" type="number" value="400" size="5"/>
                    <label for="maxSpeechLength">Max Speech Length (ms)</label>
                    <input id="maxSpeechLength" class="w3-input" type="number" value="10000" size="5"/>
                    <label for="sampleRate">sampleRate (Hz)</label>
                    <input id="sampleRate" class="w3-input" type="number" value="16000" size="5"/>
                    <label for="bufferSize">BufferSize (bytes)</label>
                    <input id="bufferSize" class="w3-input" type="number" value="16384" size="5"/>
                    <label for="analysisChunkLength">Chunk Length (ms)</label>
                    <input id="analysisChunkLength" class="w3-input" type="number" value="100" size="5"/>
                    <label for="detectOnly">Detection Only</label>
                    <select id="detectOnly" class="w3-input">
                        <option value="0">No</option>
                        <option value="1">Yes</option>
                    </select>
                    <label for="compressPauses">Compress Pauses</label>
                    <select id="compressPauses" class="w3-input">
                        <option value="0">No</option>
                        <option value="1">Yes</option>
                    </select>
                    <label for="preferGUM">Prefer GetUserMedia</label>
                    <select id="preferGUM" class="w3-input">
                        <option value="0">No</option>
                        <option value="1">Yes</option>
                    </select>
                    <label for="audioSource">Audio Source (Cordova only)</label>
                    <select id="audioSource" class="w3-input">
                        <option value="0">DEFAULT (Android/iOS)</option>
                        <option value="5">CAMCORDER (Android/iOS)</option>
                        <option value="9">UNPROCESSED (Android/iOS)</option>
                        <option value="7">VOICE_COMMUNICATION (Android/iOS)</option>
                        <option value="1">MIC (Android)</option>
                        <option value="6">VOICE_RECOGNITION (Android)</option>
                    </select>
                    <label for="audioResultType">Result Type</label>
                    <select id="audioResultType" class="w3-input">
                        <option value="1">WAV BLOB</option>
                        <option value="2">WEBAUDIO AUDIOBUFFER</option>
                        <option value="3">RAW DATA</option>
                    </select>
                    <input id="startCapture" type="button" class="w3-btn w3-green margin-5" value="Start">
                    <input id="stopCapture" type="button" class="w3-btn w3-red margin-5" value="Stop" disabled>
                    <div id="recording-list" class="w3-section w3-border-green w3-border margin-5 w3-small"
                         style="word-break: break-all;">...Captured speech will show up here...
                    </div>
                </form>
                <div id="status-list" class="w3-section w3-border-green w3-border margin-5 w3-small"
                     style="word-break: break-all;">...Debug info will show up here...
                </div>
            </div>
            <a class="w3-btn margin-5" href="index.html">Back</a>
        </div>
        <div class="w3-container w3-quarter"></div>
    </div>
</div>

<div id="speakingRightNow" style="position: absolute; top: 5px; right: 5px; color: red">-</div>

</body>

<script type="text/javascript" src="utils.js"></script>
<script type="text/javascript" src="../../cordova.js"></script>
<script type="text/javascript" src="../src/speechcapture.js"></script>
<script type="text/javascript" src="speechcapture-demo.js"></script>
